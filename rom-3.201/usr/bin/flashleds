#!/bin/sh

. /lib/functions/gl_util.sh
model=$(get_model)

led_1=""
led_2=""
led_3=""
led_4=""
led_5=""

case "$model" in
	"mt300a"|\
	"mt300n"|\
	"mt300n-v2"|\
	"ar150"|\
	"mifi"|\
	"ar300"|\
	"ar300m")
		led_1="/sys/class/leds/gl-${model}:green:lan/brightness"
		led_2="/sys/class/leds/gl-${model}:green:wan/brightness"
		led_3="/sys/class/leds/gl-${model}:green:wlan/brightness"
		;;
	"x300b")
		led_1="/sys/class/leds/gl-${model}:green:4g/brightness"
		led_2="/sys/class/leds/gl-${model}:green:wan/brightness"
		led_3="/sys/class/leds/gl-${model}:green:wlan2g/brightness"
		;;
	"ar750"|\
	"ar750s")
		led_1="/sys/class/leds/gl-${model}:white:power/brightness"
		led_2="/sys/class/leds/gl-${model}:white:wlan2g/brightness"
		led_3="/sys/class/leds/gl-${model}:white:wlan5g/brightness"
		;;
	"x1200")
		led_1="/sys/class/leds/gl-${model}:red:system/brightness"
		led_2="/sys/class/leds/gl-${model}:green:wlan2g/brightness"
		led_3="/sys/class/leds/gl-${model}:green:wlan5g/brightness"
		;;
	"x750")
		led_1="/sys/class/leds/gl-${model}:white:power/brightness"
		led_2="/sys/class/leds/gl-${model}:white:wan/brightness"
		led_3="/sys/class/leds/gl-${model}:white:wlan5g/brightness"
		led_4="/sys/class/leds/gl-${model}:white:wlan2g/brightness"
		led_5="/sys/class/leds/gl-${model}:white:4g/brightness"
		;;
	"xe300")
		led_1="/sys/class/leds/gl-${model}:green:wan/brightness"
		led_2="/sys/class/leds/gl-${model}:green:lan/brightness"
		led_3="/sys/class/leds/gl-${model}:green:wlan/brightness"
		led_4="/sys/class/leds/gl-${model}:green:lte/brightness"
		;;
	"usb150")
		led_1="/sys/class/leds/gl-${model}:green:power/brightness"
		led_2="/sys/class/leds/gl-${model}:green:wlan/brightness"
		;;
	"mt1300")
		/etc/init.d/led stop
		mt1300_led blue_flash
		;;
	*)
esac

led_blinking() {
case "$model" in
	"mt300a"|\
	"mt300n"|\
	"mt300n-v2"|\
	"ar150"|\
	"mifi"|\
	"ar300"|\
	"ar300m"|\
	"ar750"|\
	"ar750s"|\
        "x300b"|\
	"x1200")
		echo 1 > $led_1
		echo 0 > $led_2
		echo 0 > $led_3
		usleep 500000
		echo 0 > $led_1
		echo 1 > $led_2
		echo 0 > $led_3
		usleep 500000
		echo 0 > $led_1
		echo 0 > $led_2
		echo 1 > $led_3
		usleep 500000
		;;
    "xe300")
                echo 1 > $led_1
                echo 0 > $led_2
                echo 0 > $led_3
                echo 0 > $led_4
                usleep 500000
                echo 0 > $led_1
                echo 1 > $led_2
                echo 0 > $led_3
                echo 0 > $led_4
                usleep 500000
                echo 0 > $led_1
                echo 0 > $led_2
                echo 1 > $led_3
                echo 0 > $led_4
                usleep 500000
                echo 0 > $led_1
                echo 0 > $led_2
                echo 0 > $led_3
                echo 1 > $led_4
                usleep 500000
                ;;
	"x750")
		echo 1 > $led_1
		echo 0 > $led_2
		echo 0 > $led_3
		echo 0 > $led_4
		echo 0 > $led_5
		usleep 500000
		echo 0 > $led_1
		echo 1 > $led_2
		echo 0 > $led_3
		echo 0 > $led_4
		echo 0 > $led_5
		usleep 500000
		echo 0 > $led_1
		echo 0 > $led_2
		echo 1 > $led_3
		echo 0 > $led_4
		echo 0 > $led_5
		usleep 500000
		echo 0 > $led_1
		echo 0 > $led_2
		echo 0 > $led_3
		echo 1 > $led_4
		echo 0 > $led_5
		usleep 500000
		echo 0 > $led_1
		echo 0 > $led_2
		echo 0 > $led_3
		echo 0 > $led_4
		echo 1 > $led_5
		usleep 500000
		;;
	"usb150")
		echo 1 > $led_1
		usleep 500000
		echo 0 > $led_1
		usleep 500000
		;;
	"mt1300")
		echo 1 > $led_1
		usleep 250000
		echo 0 > $led_1
		usleep 250000
		;;
	*)
esac
}

i=1
while [ "$i" -le 100 ]
do
	led_blinking
    i=$((i+1))
done

