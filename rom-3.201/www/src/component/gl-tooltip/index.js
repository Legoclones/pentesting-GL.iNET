"use strict";define(["vue","css!component/gl-tooltip/index.css"],function(Vue){var vueComponent=Vue.extend({template:'\n        <div class="gl-tooltip-box" @mouseenter="_mouseEnter" @touchstart="_mouseEnter" @touchend="_mouseLeave" @mouseleave="_mouseLeave" ref="toolDiv" >\n            <slot></slot>\n        </div>\n        ',data:function data(){return{clearTime:"",tooltip:""}},props:{content:String,className:String,direction:{type:String,default:"top"},maxWidth:{type:Number,default:500},delay:{type:Number,default:30},always:{type:Boolean,default:false},toolShow:{type:Boolean,default:true}},components:{},methods:{_mouseEnter:function _mouseEnter(){if(!this.toolShow||!this.content){return}if(!this.always){if(this.tooltip){clearTimeout(this.clearTime);document.body.removeChild(this.tooltip);this.tooltip=""}this._createElement();this.tooltip.addEventListener("mouseenter",this._tooltipMouseEnter,false);this.tooltip.addEventListener("mouseleave",this._tooltipMouseLeave,false)}},_createElement:function _createElement(){if(!this.toolShow||!this.content){return}var className=this.className?" "+this.className:"";this.tooltip=document.createElement("div");this.tooltip.className="gl-tooltip "+this.direction+className;this.tooltip.style.maxWidth=parseInt(this.maxWidth)+"px";var content=void 0;if(this.content){content=this.content}else if(this.$slots.content){content=this.$slots.content[0].elm.innerHTML}else{return false}this.tooltip.innerHTML=this.t(content);document.body.appendChild(this.tooltip);var offset=this.getOffset(this.$refs.toolDiv);var windowWidth=this.getWidth(window);var height=this.tooltip.offsetHeight;var style=this.tooltip.style;var space=8;switch(this.direction){case"top-left":style.left=offset.left+"px";style.top=offset.top-this.tooltip.offsetHeight-space+"px";break;case"top":style.transform="translateX(-50%)";style.left=this._translate(offset.left+offset.width/2)+"px";style.top=offset.top-this.tooltip.offsetHeight-space+"px";break;case"top-right":style.right=windowWidth-(offset.left+offset.width)+"px";style.top=offset.top-this.tooltip.offsetHeight-space+"px";break;case"left":style.right=windowWidth-(offset.left-space)+"px";style.top=this._translate(offset.top+offset.height/2)+"px";style.transform="translateY(-50%)";break;case"right":style.left=offset.left+offset.width+space+"px";style.top=this._translate(offset.top+offset.height/2)+"px";style.transform="translateY(-50%)";break;case"bottom-left":style.left=offset.left+"px";style.top=offset.top+offset.height+space+"px";break;case"bottom":style.left=this._translate(offset.left+offset.width/2)+"px";style.transform="translateX(-50%)";style.top=offset.top+offset.height+space+"px";break;case"bottom-right":style.right=windowWidth-(offset.left+offset.width)+"px";style.top=offset.top+offset.height+space+"px";break}},_mouseLeave:function _mouseLeave(){if(!this.toolShow){return}if(!this.always){this._removeChild()}},_tooltipMouseEnter:function _tooltipMouseEnter(){clearTimeout(this.clearTime)},_tooltipMouseLeave:function _tooltipMouseLeave(){this._removeChild()},_removeChild:function _removeChild(){var _this=this;this.clearTime=setTimeout(function(){if(_this.tooltip){document.body.removeChild(_this.tooltip);_this.tooltip=""}},this.delay)},_translate:function _translate(px){if(parseInt(px)%2==0){return parseInt(px)}else{return parseInt(px)+1}},getWidth:function getWidth(elements){if(elements==window){return document.documentElement.clientWidth||document.body.clientWidth}else if(elements==document){return document.documentElement.scrollWidth||document.body.scrollWidth}else if((typeof elements==="undefined"?"undefined":_typeof(elements))=="object"){return elements.offsetWidth}else if(typeof elements=="string"){return document.getElementById(elements).offsetWidth}},getOffset:function getOffset(el){var componentRect=el.getBoundingClientRect();var top=componentRect.top+(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);var left=componentRect.left+(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0);var width=el.offsetWidth;var height=el.offsetHeight;return{left:left,top:top,width:width,height:height}}},mounted:function mounted(){if(this.always){this._createElement()}}});return vueComponent});